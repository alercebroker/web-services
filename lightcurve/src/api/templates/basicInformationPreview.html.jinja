<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{{API_URL}}/static/main.css">
    <style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        .link { color: rgb(50, 119, 175);text-decoration: underline;cursor:pointer}
        .left-text, .middle-text { text-align: center; width: 200px; height: 32px; }
        .middle-text { width: 300px; }
        .rows:hover { opacity: 0.7; }
        .glow:after { content: ""; display: block; height: 50px; width: 50px; position: absolute; border-radius: 50%; }
        .tooltip { position: relative; display: inline-block; border-bottom: 1px dotted gray; }
        .glow .tooltiptext { display: none; width: 120px; background-color: gray; color: #fff; text-align: center; border-radius: 6px; padding: 5px 0; position: absolute; z-index: 1; opacity: 1; }
        .glow:hover .tooltiptext { display: block; }
        .find-button, .other-button { background-color: #0097a7; padding: 2px 100px; border: none; font-weight: 550; font-size: 15px; cursor: pointer; color: white; }
        .other-button { background-color: #2196F3; padding: 2px 100px; position: relative;}
        .flex { max-width: 100%; }
        .text-center { text-align: center; }
        td, th { padding: 0 7.5px; height: 40px; width: 70px; text-align: center; }
        th { padding-left: 7.5px; padding-right: 7.5px; }
        td:first-child, th:first-child { padding-left: 0;}
        td:last-child, th:last-child { padding-right: 0; }
        table { width: calc(100% + 30px); table-layout: fixed; border-spacing: 15px 0px; }
        .table-container { overflow: hidden; width: 400px; margin: 0; }
        .table td:first-child { text-align: left; }
        .th,.td{padding-left: 100px;height: 40px;width: 70px;}
        
        .tag {color: white; position: absolute; right:0%; bottom: 0%; height: auto; margin: 0;font-size:17px}
        button, input[type="submit"], input[type="reset"] {background: none;color: inherit;border: none;padding: 0;font: inherit;cursor: pointer;outline: inherit;}
        .button {display: inline;}
        .position-relative {position: relative;}
        .display-inline {display: inline;}
        .menu-box {display: none;box-sizing: content-box;position:absolute; opacity: 1; width: 377px; height: 500px;margin-left: 326px;}
        .menu-box-elements {cursor: pointer; background-color: #1e1e1e; width:100%; height: 12.5%; border-bottom: solid; border-width: 1px; display:grid; justify-content: center; align-items: center;}
        .menu-box-elements:hover {background-color: #3b3939;}
        .a-elements {text-align: center; font-size: 30px;}
        .menu-links {color: white; text-decoration: none; height: 100%; width: 100%;}
    </style>
</head>

<body class="tw-preflight">

<div class="tw-bg-[#1e1e1e] tw-w-[750px] tw-rounded-[6px] tw-box-content tw-border-none tw-p-[10px] tw-relative tw-mt-3 tw-ml-3">
    <div class="tw-text-white">

        <table bordeer=1 frame=void rules=rows class="tw-truncate tw-table tw-m-0 tw-text-left tw-border-spacing-40 tw-w-full">
            <colgroup><col class="tw-text-left"><col><col></colgroup>
            <tbody>
                <tr class="hover:tw-opacity-70"><td class="tw-text-left">Object</td><td class="tw-w-[300px]" id="object"></td><td class="end"></td></tr>

                <tr class="hover:tw-opacity-70">
                    <td class="tw-text-left">Corrected</td>
                    <td class="" id="corrected"></td>
                    <td class="tw-group tw-relative">
                        <div class="tw-relative">
                            <svg class="tw-h-6 tw-w-6 tw-text-gray-500" data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path   path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"></path>
                            </svg>
                            <div class="tw-absolute tw-left-1/2 tw-transform tw--translate-x-1/2 tw-top-full tw-mt-2 tw-hidden group-hover:tw-flex tw-flex-col tw-items-center">
                            <div class="tw-bg-gray-900 tw-text-red-500 tw-text-xs tw-rounded tw-px-4 tw-py-2 tw-w-48 tw-whitespace-normal tw-translate-x-[-20%]">
                                There is a matching source in the reference image. The apparent magnitude combines the difference and reference fluxes.
                            </div>
                            <div class="tw-w-2.5 tw-h-2.5 tw-bg-gray-800 tw-transform tw-rotate-45 tw-mt-1 tw-translate-x-[-20%]"></div>
                            </div>
                        </div>
                    </td>
                </tr>

                <tr class="hover:tw-opacity-70">
                    <td class="tw-text-left">Stellar</td>
                    <td class="" id="stellar"></td>
                    <td class="tw-group tw-relative">
                        <div class="tw-relative">
                            <svg class="tw-h-6 tw-w-6 tw-text-gray-500" data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path   path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"></path>
                            </svg>
                            <div class="tw-absolute tw-left-1/2 tw-transform tw--translate-x-1/2 tw-top-full tw-mt-2 tw-hidden group-hover:tw-flex tw-flex-col tw-items-center">
                            <div class="tw-bg-gray-900 tw-text-red-500 tw-text-xs tw-rounded tw-px-4 tw-py-2 tw-w-48 tw-whitespace-normal tw-translate-x-[-20%]">
                                There is a matching point-like source in the reference image.
                            </div>
                            <div class="tw-w-2.5 tw-h-2.5 tw-bg-gray-800 tw-transform tw-rotate-45 tw-mt-1 tw-translate-x-[-20%]"></div>
                            </div>
                        </div>    
                    </td>
                </tr>

                <tr class="hover:tw-opacity-70"><td class="tw-text-left">Detections</td><td class="middle-text" id=detections></td><td class="end"></td></tr>

                <tr class="hover:tw-opacity-70">
                    <td class="tw-text-left">Discovery date</td>
                    <td class="" id="discoveryDate"></td>
                    <td class="tw-group tw-relative">
                        <div class="tw-relative">
                            <button class="tw-relative" id="changeDiscoveryValue">
                                <svg class="tw-h-6 tw-w-6 tw-text-gray-500" data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"></path>
                                </svg>
                            </button>
                            <div class="tw-absolute tw-left-1/2 tw-transform tw--translate-x-1/2 tw-top-full tw-mt-2 tw-hidden group-hover:tw-flex tw-flex-col tw-items-center">
                            <div class="tw-bg-gray-900 tw-text-red-500 tw-text-xs tw-rounded tw-px-4 tw-py-2 tw-w-48 tw-whitespace-normal tw-translate-x-[-20%]">
                                View MJD
                            </div>
                            <div class="tw-w-2.5 tw-h-2.5 tw-bg-gray-800 tw-transform tw-rotate-45 tw-mt-1 tw-translate-x-[-20%]"></div>
                            </div>
                        </div> 
                    </td>
                </tr>

                <tr class="hover:tw-opacity-70">
                    <td class="tw-text-left">Last detection</td>
                    <td class="" id="lastDetection"></td>
                    <td class="tw-group tw-relative">
                        <div class="tw-relative">
                            <button class="tw-relative" id="changeLastValue">
                                <svg class="tw-h-6 tw-w-6 tw-text-gray-500" data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"></path>
                                </svg>
                            </button>
                            <div class="tw-absolute tw-left-1/2 tw-transform tw--translate-x-1/2 tw-top-full tw-mt-2 tw-hidden group-hover:tw-flex tw-flex-col tw-items-center">
                            <div class="tw-bg-gray-900 tw-text-red-500 tw-text-xs tw-rounded tw-px-4 tw-py-2 tw-w-48 tw-whitespace-normal tw-translate-x-[-20%]">
                                View MJD
                            </div>
                            <div class="tw-w-2.5 tw-h-2.5 tw-bg-gray-800 tw-transform tw-rotate-45 tw-mt-1 tw-translate-x-[-20%]"></div>
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr class="hover:tw-opacity-70"><td class="tw-text-left">Non Detections</td><td class="middle-text" id="nonDetections"></td> <td class="end"></td></tr>

                <tr class="hover:tw-opacity-70">
                    <td class="tw-text-left">RA(J2000) Dec(J2000)</td>
                    <td class="" id="raDec"></td>
                    <td class="tw-group tw-relative"> 
                        <div class="tw-relative">
                            <button class="tw-relative" id="changeRaDec">
                                <svg class="tw-h-6 tw-w-6 tw-text-gray-500" data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"></path>
                                </svg>
                            </button>
                            <div class="tw-absolute tw-left-1/2 tw-transform tw--translate-x-1/2 tw-top-full tw-mt-2 tw-hidden group-hover:tw-flex tw-flex-col tw-items-center">
                            <div class="tw-bg-gray-900 tw-text-red-500 tw-text-xs tw-rounded tw-px-4 tw-py-2 tw-w-48 tw-whitespace-normal tw-translate-x-[-20%]">
                                View MJD
                            </div>
                            <div class="tw-w-2.5 tw-h-2.5 tw-bg-gray-800 tw-transform tw-rotate-45 tw-mt-1 tw-translate-x-[-20%]"></div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="display-inline">
            <div class="button"> 
                <a href="https://www.youtube.com/" target="_blank" class="find-button"><span find-btn-content>FINDING CHART</span></a>
            </div>
        </div>
        
        <div class="position-relative display-inline">
            <div class="button">
                <a id="menu-button"class="other-button">OTHER ARCHIVES</a>
            </div>
        </div>    

        <div id="menu-box" class="position-relative menu-box">
            <div class="menu-box-elements"> 
                <a target="_blank" id='first-button' class="a-elements menu-links"> DESI Legacy Survey DR9</a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="second-button"> NED </a>
            </div>
            <div class="menu-box-elements"> 
                <a target="_blank" class="a-elements menu-links" id="third-button"> PanSTARRS </a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="fourth-button"> SDSS DR16 </a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="fifth-button"> SIMBAD </a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="sixth-button"> TNS </a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="seventh-button"> Vizier </a>
            </div>
            <div class="menu-box-elements">
                <a target="_blank" class="a-elements menu-links" id="eighth-button"> VSX </a>
            </div>
        </div>


        <div class="data">
            <table bordeer=1 frame=void rules=rows class="table-container"><colgroup><col><col><col></colgroup>
                <thead><th class="text-center th"><span>Type</span></th><th class="text-center th"><span>Name</span></th><th class="text-center th"><span>Redshift</span></th></thead>
                <tbody class="table-spacing"><tr class="rows"><td class="text-center td">-</td><td class="text-center td">-</td><td class="text-center td">-</td></tr></tbody>
            </table>
        </div>
    </div>
    <h6 class="tag"> Provided by <a target="_blank" class="link" href="https://www.wis-tns.org/">TNS</a>  <img src="https://www.wis-tns.org/sites/default/files/favicon.png"></h6>
</div>

<script type="module">

        import {
            
            changeDiscoveryValue, 
            changeLastValue, 
            changeRaDec, 
            convertToDate, 
            julianToGregorian,
            transformRaDec,
            display_menu,
            url_modifier

        } from "{{API_URL}}/static/basicInformation.js"

        const object =  {{object | tojson}};
        const corrected = {{corrected | tojson}} ;
        const stellar = {{stellar | tojson}} ;
        const detections = {{detections | tojson}} 
        let discoveryDateMJD = {{discoveryDateMJD | tojson}} ;
        let lastDetectionMJD = {{lastDetectionMJD | tojson}} ;
        const nonDetections = {{nonDetections | tojson}} ;
        let ra = {{ra | tojson}} ;
        let dec  = {{dec | tojson}};
        const link = {{link | tojson}};

        let raDec = String(ra) + ' ' + String(dec);

        let discoveryDateMGD = julianToGregorian(discoveryDateMJD);
        let lastDetectionMGD = julianToGregorian(lastDetectionMJD);

        let raTime = transformRaDec(ra);
        let decTime = transformRaDec(dec);

        let raDecTime = String(raTime) + ' ' + String(decTime);

        url_modifier(ra,dec);

        document.getElementById("object").innerHTML = object;
        document.getElementById("corrected").innerHTML = corrected;
        document.getElementById("stellar").innerHTML = stellar;
        document.getElementById("detections").innerHTML = detections;
        document.getElementById("nonDetections").innerHTML = nonDetections;
        document.getElementById("discoveryDate").innerHTML = discoveryDateMGD;
        document.getElementById("lastDetection").innerHTML = lastDetectionMGD;
        document.getElementById("raDec").innerHTML = raDec;
        
        document.getElementById('changeDiscoveryValue').addEventListener('click', () => changeDiscoveryValue(discoveryDateMGD, discoveryDateMJD));
        document.getElementById('changeLastValue').addEventListener('click', () => changeLastValue(lastDetectionMGD, lastDetectionMJD));
        document.getElementById('changeRaDec').addEventListener('click', () => changeRaDec(raDec, raDecTime));

        document.getElementById('menu-button').addEventListener('click', () => display_menu());
    </script>

</body>
</html>


