
<div id="aladin-lite-div" class="tw-mx-auto" hx-indicator="#aladin-loader" style="width: 100%; height:100%;">
</div>

<div id="aladin-loader" class="aladin-indicator tw-w-full tw-h-full tw-absolute tw-inset-0
tw-flex tw-flex-col"><span class="">Loading Aladin...</span></div>

<script type="module">

    import { init, elementReady } from "{{API_URL}}/static/aladin.js";

    function loadScript(src) {
        return new Promise((resolve, reject) => {
            document.getElementById("aladin-loader").classList.add("htmx-request")
            const script = document.createElement('script');
            script.src = src;
            script.charset = "utf-8"
            script.onload = resolve;
            script.onerror = reject;
            document.head.appendChild(script);
        });
    }

    loadScript("https://aladin.cds.unistra.fr/AladinLite/api/v3/3.6.5/aladin.js")
    .then(() => elementReady('#aladin-app'))
    .then((el) => {
        init(A)
    })
    .catch((error) => console.error('Failed to load aladin script'));
</script>


<script id="aladin-data" type="application/json">
{ 
    "objects": {{objects | tojson}},
    "selected_object": {{selected_object | tojson}}
}
</script>